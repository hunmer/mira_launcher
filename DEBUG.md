# 🔧 调试指南

## 断点调试配置

### 🎯 调试 Vue/TypeScript 代码

1. **使用配置**: `🔧 Debug Vue/TS Code`
2. **步骤**:
   - 在 VS Code 中按 `F5` 或从调试面板选择该配置
   - 会自动启动 Vite 开发服务器
   - 自动打开 Chrome 并连接调试器
   - 在 `.vue` 文件或 `.ts` 文件中设置断点
   - 刷新页面或触发相关代码执行

### 🚀 调试完整 Tauri 应用

1. **使用配置**: `🚀 Debug Tauri App + Frontend`
2. **步骤**:
   - 选择该配置并按 `F5`
   - 会启动完整的 Tauri 应用 (前端 + 后端)
   - Chrome 会连接到前端调试
   - 可以调试前端代码和查看 Rust 日志

### 📎 附加到已运行的 Chrome

1. **使用配置**: `Attach to Chrome`
2. **适用场景**: 当你已经通过其他方式启动了应用
3. **前提**: Chrome 需要以调试模式启动

## 🛠️ 调试特性

- ✅ **源码映射**: 支持 TypeScript 和 Vue SFC 调试
- ✅ **智能步进**: 跳过 node_modules 和内部代码
- ✅ **断点调试**: 在 `.vue`, `.ts`, `.js` 文件中设置断点
- ✅ **变量查看**: 查看组件状态、props、computed 等
- ✅ **调用堆栈**: 跟踪函数调用链
- ✅ **热重载兼容**: 调试过程中支持代码修改

## 📝 使用技巧

### 设置断点
- 在代码行号左侧点击设置断点
- 使用 `debugger;` 语句强制暂停
- 条件断点: 右键设置断点条件

### 常见调试场景
1. **组件生命周期**: 在 `onMounted`, `onUpdated` 等生命周期钩子中设置断点
2. **事件处理**: 在点击事件、表单提交等处设置断点
3. **状态管理**: 在 Pinia store 的 actions 中调试
4. **API 调用**: 在异步函数中调试网络请求

### 快捷键
- `F5`: 开始调试
- `F10`: 单步跳过
- `F11`: 单步进入
- `Shift+F11`: 单步跳出
- `Ctrl+Shift+F5`: 重启调试

## ⚠️ 注意事项

1. **确保端口空闲**: 调试前确保 1420 端口没有被占用
2. **清理缓存**: 如果断点不生效，尝试清理浏览器缓存
3. **重启调试**: 修改配置文件后需要重启调试会话
4. **源码映射**: 确保 TypeScript 和 Vite 的源码映射都已启用

## 🐛 故障排除

### 断点不生效
1. 检查源码映射是否正确
2. 确认文件路径映射
3. 重启调试会话

### 无法连接调试器
1. 检查端口 1420 是否可用
2. 确认 Chrome 启动参数
3. 查看任务是否正常启动

### 源码无法映射
1. 检查 `sourceMapPathOverrides` 配置
2. 确认 Vite 和 TypeScript 源码映射已启用
3. 清理并重新构建
